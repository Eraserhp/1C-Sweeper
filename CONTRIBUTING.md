# Руководство по внесению вклада в 1C-Sweeper

Спасибо за интерес к проекту! Мы рады любому вкладу в развитие 1C-Sweeper.

## Как внести вклад

### Сообщение об ошибках

Если вы нашли ошибку:

1. Проверьте [Issues](https://github.com/yourusername/1C-Sweeper/issues), возможно проблема уже известна
2. Создайте новый Issue с подробным описанием:
   - Версия Python и ОС
   - Шаги для воспроизведения
   - Ожидаемое поведение
   - Фактическое поведение
   - Логи и скриншоты (если есть)

### Предложение новых функций

1. Откройте Issue с описанием функции
2. Обсудите реализацию с мейнтейнерами
3. После одобрения создайте Pull Request

### Внесение изменений в код

#### 1. Подготовка окружения

```bash
# Fork репозитория через GitHub

# Клонируйте свой fork
git clone https://github.com/your-username/1C-Sweeper.git
cd 1C-Sweeper

# Добавьте upstream remote
git remote add upstream https://github.com/yourusername/1C-Sweeper.git

# Создайте виртуальное окружение
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/Mac

# Установите зависимости
pip install -r requirements.txt
```

#### 2. Создание ветки

```bash
# Обновите main
git checkout main
git pull upstream main

# Создайте ветку для изменений
git checkout -b feature/your-feature-name
# или
git checkout -b bugfix/issue-number-description
```

#### 3. Внесение изменений

- Следуйте стилю кода проекта (PEP 8)
- Добавляйте docstrings для всех публичных функций
- Пишите понятные commit сообщения
- Разбивайте большие изменения на логические коммиты

#### 4. Добавление тестов

**Обязательно** добавьте тесты для новой функциональности:

```bash
# Создайте тест в соответствующем файле tests/test_*.py
# Запустите тесты
pytest tests/

# Проверьте покрытие кода
pytest --cov=src tests/
```

Цель: минимум 70% покрытия кода тестами.

#### 5. Документация

Обновите документацию если:
- Добавлена новая функция
- Изменился API
- Изменились требования

#### 6. Проверка перед отправкой

```bash
# Все тесты должны проходить
pytest tests/

# Нет lint ошибок
# (будет добавлено в CI/CD)

# Код отформатирован
# (будет добавлено в CI/CD)
```

#### 7. Создание Pull Request

```bash
# Отправьте изменения в свой fork
git push origin feature/your-feature-name
```

Создайте Pull Request через GitHub:

1. Откройте ваш fork на GitHub
2. Нажмите "Pull Request"
3. Выберите вашу ветку
4. Заполните описание:
   - Что изменено
   - Почему это нужно
   - Как протестировано
   - Связанные Issues (если есть)

### Шаблон Pull Request

```markdown
## Описание изменений

[Краткое описание того, что изменено]

## Тип изменений

- [ ] Исправление ошибки (bugfix)
- [ ] Новая функция (feature)
- [ ] Улучшение производительности
- [ ] Рефакторинг
- [ ] Обновление документации
- [ ] Другое: [описание]

## Связанные Issues

Closes #[номер issue]

## Как протестировано

[Описание того, как вы тестировали изменения]

## Чек-лист

- [ ] Код следует стилю проекта
- [ ] Добавлены/обновлены тесты
- [ ] Все тесты проходят
- [ ] Обновлена документация
- [ ] Commit сообщения понятны
```

## Стиль кода

### Python

- Следуем [PEP 8](https://pep8.org/)
- Максимальная длина строки: 100 символов
- Используем 4 пробела для отступов

### Docstrings

Используем Google Style:

```python
def function(arg1: str, arg2: int) -> bool:
    """
    Краткое описание функции.
    
    Более подробное описание если нужно.
    
    Args:
        arg1: Описание аргумента 1
        arg2: Описание аргумента 2
        
    Returns:
        Описание возвращаемого значения
        
    Raises:
        ValueError: Когда возникает
    """
    pass
```

### Commit сообщения

Формат:

```
type: Краткое описание (до 50 символов)

Подробное описание если нужно (до 72 символов на строку).

Fixes #123
```

Типы:
- `feat`: Новая функция
- `fix`: Исправление ошибки
- `docs`: Изменения в документации
- `style`: Форматирование кода
- `refactor`: Рефакторинг
- `test`: Добавление тестов
- `chore`: Обслуживание проекта

Примеры:

```
feat: Добавить поддержку параллельной обработки

fix: Исправить обработку путей с пробелами

docs: Обновить README с примерами конфигурации
```

## Процесс Review

После создания Pull Request:

1. **Автоматические проверки** (будут добавлены):
   - Запуск тестов
   - Проверка покрытия кода
   - Проверка стиля

2. **Code Review**:
   - Мейнтейнер проверит код
   - Может запросить изменения
   - Обсуждение в комментариях PR

3. **Внесение правок**:
   - Внесите запрошенные изменения
   - Ответьте на комментарии
   - Push в ту же ветку (PR обновится автоматически)

4. **Merge**:
   - После одобрения мейнтейнер сольет PR
   - Ваша ветка может быть удалена

## Приоритеты разработки

### Высокий приоритет

- Исправление критических ошибок
- Улучшение безопасности
- Улучшение производительности

### Средний приоритет

- Новые функции из roadmap
- Улучшение документации
- Рефакторинг кода

### Низкий приоритет

- Косметические изменения
- Незначительные оптимизации

## Roadmap

### Версия 1.1

- [ ] Параллельная обработка объектов
- [ ] Web-интерфейс для просмотра отчетов
- [ ] Поддержка конфигурационных профилей
- [ ] Email уведомления при ошибках

### Версия 2.0

- [ ] Поддержка Linux
- [ ] Интеграция с системами мониторинга
- [ ] Централизованное управление для множества станций
- [ ] API для внешних систем

## Вопросы?

- Создайте Issue с меткой `question`
- Напишите на email: developer@example.com
- Обсудите в Discussions (если включено)

## Лицензия

Внося вклад в проект, вы соглашаетесь что ваш код будет распространяться под той же лицензией, что и проект.

## Благодарности

Спасибо всем, кто вносит вклад в проект! Каждый вклад ценен, будь то код, документация, отчеты об ошибках или предложения.

